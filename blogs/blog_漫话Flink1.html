<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>bigdata - Blog Page</title>
<!--
Classic Template
http://www.cssmoban.com/tm-488-classic
-->
    <!-- load stylesheets -->
    <link rel="stylesheet" href="http://fonts.useso.com/css?family=Open+Sans:300,400">  <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="../css/bootstrap1.min.css">                                      <!-- Bootstrap style -->
    <link rel="stylesheet" href="../css/templatemo-style1.css">                                   <!-- Templatemo style -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
          <![endif]-->
</head>

    <body>
       
        <div class="tm-header">
            <div class="container-fluid">
                <div class="tm-header-inner">
                    <a href="#" class="navbar-brand tm-site-name">漫话Flink(一)</a>
                    
                    <!-- navbar -->
                    <nav class="navbar tm-main-nav">

                        <button class="navbar-toggler hidden-md-up" type="button" data-toggle="collapse" data-target="#tmNavbar">
                            &#9776;
                        </button>
                        
                        <div class="collapse navbar-toggleable-sm" id="tmNavbar">
                            <ul class="nav navbar-nav">
                                <li class="nav-item">
                                    <a href="../index.html" class="nav-link">Home</a>
                                </li>
                            </ul>                        
                        </div>
                        
                    </nav>  

                </div>                                  
            </div>            
        </div>

        <div class="tm-blog-img-container">
            
        </div>

        <section class="tm-section">
            <div class="container-fluid">
                <div class="row">

                    <div class="col-xs-15 col-sm-15 col-md-8 col-lg-12 col-xl-12">
                        <div class="tm-blog-post">
                            <h3 class="tm-gold-text"></h3>
                            <!--<img src="img/timg1.jpg" alt="Image" class="img-fluid tm-img-post">-->
							
                            <h3 class="tm-gold-text">从四代引擎谈起</h3>
                            <p>
							这几年大数据的飞速发展，出现了很多热门的开源社区，其中著名的有Hadoop、Storm，以及后来的 Spark，他们都有着各自专注的应用场景。Spark掀开了内存计算的先河，/比较/也以内存为赌注，赢得了内存计算的飞速发展。Spark 的火热或多或少的掩盖了其他分布式计算的系统身影。就像 Flink，也就在这个时候默默的发展着。<br/>
							在国外一些社区，有很多人将大数据的计算引擎分成了4 代，当然也有很多人不会认同。我们先姑且这么认为和讨论。<br/>
							</p>
							<p>
							第1代----hadoop&nbsp&nbspMapReduce<br/>
							·批处理<br/>
							·Mapper,Reducer<br/>
							Hadoop的MapReduce将计算分为两个阶段，分别为 Map 和 Reduce。对于上层应用来说，就不得不想方设法去拆分算法，甚至于不得不在上层应用实现多个Job的串联，以完成一个完整的算法，例如迭代计算。<br/>
							</p>
							<p>
							第2代----DAG框架(Tez)+MapReduce<br/>
							·批处理<br/>
							·1个Tez = MR(1) + MR(2) + ... + MR(n)<br/>
							·相比MR效率有所提升<br/>
							</p>
							<img src="img/flink/flink1.jpg" alt="Image" class="img-fluid tm-img-post">
							<p>
							第3代---Spark<br/>
							·批处理,流处理.SQL高层API支持<br/>
							·自带DAG<br/>
							·内存迭代计算,性能较之前大幅提升<br/>
							</p>
							<p>
							第4代--Flink<br/>
							·批处理、流处理、SQL高层API支持<br/>
							·自带DAG<br/>
							·流式计算性能更高,可靠性更高<br/>
							·flink做的最好的就是状态管理,内存管理<br/>
							</p>
		
							<h3 class="tm-gold-text">什么是Flink</h3>
							<p>
							Flink概述:<br/>
							·分布式的计算引擎<br/>
							·支持批处理，即处理静态的数据集、历史的数据集<br/>
							·支持流处理，即实时地处理一些实时数据流<br/>
							·支持基于事件的应用【比如说滴滴通过Flink CEP实现实时监测司机的行为流来判断司机的行为是否正当】<br/>
							</p>
							<p>
							官网介绍<br/>
							</p>
							<img src="img/flink/flink2.jpg" alt="Image" class="img-fluid tm-img-post">
							<p>
							Stateful Computations over Data Streams，即数据流上的有状态的计算。
							</p>
							<p>
							·Data&nbsp&nbspStreams ，Flink认为有界数据集是无界数据流的一种特例，所以说有界数据集也是一种数据流，事件流也是一种数据流。Everything is streams，即Flink可以用来处理任何的数据，可以支持批处理、流处理、AI、MachineLearning等等。<br/>
							</p>
							<p>	
							Stateful&nbsp&nbspComputations，即有状态计算。有状态计算是最近几年来越来越被用户需求的一个功能。比如说一个网站一天内访问UV数，那么这个UV数便为状态。Flink提供了内置的对状态的一致性的处理，即如果任务发生了Failover，其状态不会丢失、不会被多算少算，同时提供了非常高的性能。<br/>
							</p>
							<p>	无界流：意思很明显，只有开始没有结束。必须连续的处理无界流数据，也即是在事件注入之后立即要对其进行处理。不能等待数据到达了再去全部处理，因为数据是无界的并且永远不会结束数据注入。处理无界流数据往往要求事件注入的时候有一定的顺序性，例如可以以事件产生的顺序注入，这样会使得处理结果完整。<br/>
							</p>
							<p>
							有界流：也即是有明确的开始和结束的定义。有界流可以等待数据全部注入完成了再开始处理。注入的顺序不是必须的了，因为对于一个静态的数据集，我们是可以对其进行排序的。有界流的处理也可以称为批处理。<br/>
							</p>
							<p>
							其它特点:<br/>
							·性能优秀(尤其在流计算领域)<br/>
							·高可扩展性<br/>
							·支持容错<br/>
							·纯内存式的计算引擎,做了内存管理方面的大量优化<br/>
							·支持eventime的处理<br/>
							·支持超大状态的Job(在阿里巴巴中作业的state大小超过TB的是非常常见的)<br/>
							·支持exactly-once的处理。<br/>
							</p>
							
							<h3 class="tm-gold-text">性能比较</h3>
                            <p>
							首先，我们可以通过下面的性能测试初步了解两个框架的性能区别，它们都可以基于内存计算框架进行实时计算，所以都拥有非常好的计算性能。经过测试，Flink计算性能上略好。
							</p>
							<p>
							测试环境:<br/>
							1.CPU：7000个<br/>
							2.内存：单机128GB<br/>
							3.3.版本：Hadoop 2.3.0，Spark 1.4，Flink 0.9 <br/>
							4.数据：800MB，8GB，8TB； <br/>
							5.算法：K-means：以空间中K个点为中心进行聚类，对最靠近它们的对象归类。通过迭代的方法，逐次更新各聚类中心的值，直至得到最好的聚类结果。 <br/>
							6.迭代：K=10，3组数据 <br/>
							</p>
							<p>
							测试结果<br/>
							纵坐标是秒，横坐标是次数<br/>
							</p>
							<img src="img/flink/flink3.jpg" alt="Image" class="img-fluid tm-img-post">
							<p>
							结论:<br/>
							Spark和Flink全部都运行在Hadoop YARN上，性能为Flink > Spark > Hadoop(MR)，迭代次数越多越明显性能上，Flink优于Spark和Hadoop最主要的原因是Flink支持增量迭代，具有对迭代自动优化的功能<br/>
							</p>
							<h3 class="tm-gold-text">Flink在阿里</h3>
                            <p>
							· 2008年，Flink 的前身已经是柏林理工大学一个研究性项目，原名 StratoSphere。<br/>
							2014年，Flink被Apache孵化器所接受然后迅速地成为了 ASF（Apache Software Foundation）的顶级项目之一.<br/>
							</p>
							<p>
							Flink在阿里的现状<br>
							基于Apache Flink在阿里巴巴搭建的平台于2016年正式上线，并从阿里巴巴的搜索和推荐这两大场景开始实现。<br/>
							目前阿里巴巴所有的业务，包括阿里巴巴所有子公司都采用了基于Flink搭建的实时计算平台。同时Flink计算平台运行在开源的Hadoop集群之上。<br/>
							采用Hadoop的YARN做为资源管理调度，以 HDFS作为数据存储。<br/>
							因此，Flink可以和开源大数据软件Hadoop无缝对接。<br/>
							</p>
							<img src="img/flink/flink4.jpg" alt="Image" class="img-fluid tm-img-post">
							<p>
							目前，这套基于Flink搭建的实时计算平台不仅服务于阿里巴巴集团内部，而且通过阿里云的云产品API向整个开发者生态提供基于Flink的云产品支持。
							</p>
							<p>
							Flink在阿里巴巴的大规模应用，表现如何？<br/>
							·规模：一个系统是否成熟，规模是重要指标，Flink最初上线阿里巴巴只有数百台服务器，目前规模已达上万台，此等规模在全球范围内也是屈指可数；<br/>
							·状态数据：基于Flink，内部积累起来的状态数据已经是PB级别规模；<br/>
							·Events：如今每天在Flink的计算平台上，处理的数据已经超过万亿条;<br/>
							·TPS：在峰值期间可以承担每秒超过4.72亿次的访问，最典型的应用场景是阿里巴巴双11大屏；<br/>
							</p>
							<img src="img/flink/flink5.jpg" alt="Image" class="img-fluid tm-img-post">
							<img src="img/flink/flink6.jpg" alt="Image" class="img-fluid tm-img-post">
							<p>
							Flink分支Blink<br/>
							·阿里自15年起开始调研开源流计算引擎，最终决定基于Flink打造新一代计算引擎<br/>
							·阿里贡献了数百个commiter，并对Flink进行高度定制，并取名为Blink<br/>
							·阿里是Flink SQL的最大贡献者，一半以上的功能都是阿里的工程师开发的<br/>
							</p>
							<p>
							logo介绍
							</p>
							<img src="img/flink/flink7.svg" alt="Image" class="img-fluid tm-img-post">
							<p>
							在德语中，flink 一词表示快速和灵巧 , 松鼠具有快速和灵巧的特点<br/>
							柏林的松鼠是红棕色，Flink的松鼠 logo尾巴的颜色与 Apache 软件基金会的 logo 颜色相呼应<br/>
							</p>
                        </div>
                    
                        
                    </div>


                </div>
                
            </div>
        </section>
        
        <footer class="tm-footer">
            <div class="container-fluid">

            </div>
        </footer>

        <!-- load JS files -->
        <script src="js/jquery-1.11.3.min.js"></script>             <!-- jQuery (https://jquery.com/download/) -->
        <script src="https://www.atlasestateagents.co.uk/javascript/tether.min.js"></script> <!-- Tether for Bootstrap, http://stackoverflow.com/questions/34567939/how-to-fix-the-error-error-bootstrap-tooltips-require-tether-http-github-h --> 
        <script src="js/bootstrap.min.js"></script>                 <!-- Bootstrap (http://v4-alpha.getbootstrap.com/) -->
       
</body>
</html>